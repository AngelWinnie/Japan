<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>大阪城天守閣</title>

    <link rel="stylesheet" href="../css/page.css">
    <link rel="icon" href="../img/2.png">

</head>

<body style="background-color: rgb(248, 248, 225);">
    <!-- 上面的圖片幻燈片 -->
    <h1 class="word">大阪城天守閣</h1>
    <p class="change_little_title word">日本100名城之一——「大阪城」</p>

    <div class="slideshow-container">

        <div class="mySlides fade">
            <div class="numbertext">1 / 3</div>
            <img src="../img/osaka_castle1.jpeg" style="width:100%">
            <div class="text">大阪城天守閣</div>
        </div>

        <div class="mySlides fade">
            <div class="numbertext">2 / 3</div>
            <img src="../img/osaka_castle2.jpeg" style="width:100%">
            <div class="text">大阪城天守閣</div>
        </div>

        <div class="mySlides fade">
            <div class="numbertext">3 / 3</div>
            <img src="../img/osaka_castle3.jpeg" style="width:100%">
            <div class="text">大阪城天守閣</div>
        </div>

    </div>
    <br>

    <div style="text-align:center">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
    </div>


    <div class="content-border">
        <h1 class="content-title word">由「豐臣秀吉」建造的大阪城歷史</h1>
        <div class="first">
            <div class="first_cantain">
                <div class="first_border">
                    <p class="first_word word">
                        1583年，完成統一天下大業的豐臣秀吉開始建造大阪城，並於一年半後完成了最初代的天守閣。在江戶幕府成立後，德川家與豐臣家展開了大坂冬之陣和夏之陣兩次戰爭，最後德川家戰勝，最早的大阪城也在戰火中消失。
                        <br><br>
                        1620年時德川幕府開始重建大阪城及第二代的天守閣，但數年後天守閣被閃電擊中燒毀，從此以後的數百年間都沒有重建。直到近代1928年，大阪市市長提議重建大阪城，並獲得市民熱烈的支持及龐大的捐款，以鋼筋水泥地等材料，依照大阪夏之陣屏風上所繪的豐臣大阪城天守重建。
                        <br><br>
                        後續在二次大戰期間受到美軍空襲，重建後的天守無事，但周邊許多古蹟建築都被摧毀。所幸在多年持續努力復修下，大阪城終於重現往日光輝，並於1997年被日本政府指定為登錄有形文化財，被選為日本百名城之一，現在大家也能在大阪城公園中，看到紀念豐臣秀吉的銅像。
                    </p>
                </div>
                <div>
                    <img src="../img/osaka_castle4.jpeg" class="first_pic">
                </div>
            </div>

            <div class="content-little-border">
                <h4 class="content-little-title word">大阪城天守閣門票與開館時間</h4>
                <span class="content word">
                    平常的開館時間是9:00～17:00，但櫻花季、黃金週和暑假時會有所延長。一般的門票費用為大人600日圓，兒童免費（但中學生需查驗學生手冊等證明）。若是超過15人的團體也不需先預約，只要在申請書上載明入館人數就可以適用團體費用。套票分為兩種：
                    <br>
                    ・大阪歷史博物館（常設展）＋大阪城天守閣：1,000日圓
                    <br>
                    ・大阪水上巴士＋大阪城天守閣：2,000日圓
                </span>
            </div>

            <div class="content-little-border">
                <h4 class="content-little-title word">每天運行！搭上黃金「御座船」遊覽大阪城護城河感受舊時代的奢侈享受 ！</h4>
                <span class="content word">
                    到大阪城還可以搭乘遊覽船在天守閣四周的護城河巡禮。在過去御座船是只有天皇和將軍等身分崇高的人們才能搭乘的豪華船。每艘船皆使用了約3,000片的金箔，可說是非常奢侈。一邊想像過去天皇或將軍從船上眺望出去的風景，一邊奢侈地在這裡觀光也許是不錯的選擇喔。
                </span>
            </div>
            <div class="first_cantain">
                <div class="first_border" style="height: 300px;">
                    <h4 class="content-little-title word">日本夜景遺產——夜晚點燈「大阪城天守閣」</h4>
                    <p class="content word other">
                        被選為日本「登錄有形文化財」的大阪城天守閣，內部作為博物館使用。1樓介紹豐臣秀吉生涯並有土產店；2樓展示大阪城歷史，也提供遊客試穿戰國武將的羽織；3樓展示史料文件及豐臣和德川時期的大阪城模型；4樓主要展出豐臣秀吉相關物品和戰國時代的資料；5樓以屏風、影像和模型，為大家介紹知名戰事「大坂夏之陣」；7樓介紹豐臣秀吉建造大阪城並統一天下的事蹟；8樓是距離地面高50公尺的展望台，可以俯瞰一望無際的大阪市街風景。
                    </p>
                </div>
                <div>
                    <img src="../img/osaka_castle5.jpeg" class="other_pic">
                </div>
            </div>
            <div class="content-little-border">
                <h4 class="content-little-title word">大阪城內最大的巨石——「櫻門枡形的蛸石」</h4>
                <span class="content word">
                    作為大阪城本丸正門的「櫻門」最初在德川幕府時期建造，但曾遭遇大火以及颱風毀壞，目前的櫻門是在1969年復原的，據說因城門附近種植了美麗的櫻花林而得名。從櫻門正面可以看見有如高牆般的巨大石頭「蛸石」。蛸石設置在櫻門枡形，「枡形」是以石牆圍起的四角形區域，在敵人闖進城門時，能將敵人包圍在枡形攻擊。
                    <br>
                    「蛸」在日文中是章魚的意思，名稱來自於石頭左下角有形似章魚的紋路。雄偉壯觀的蛸石，也是大阪城公園中相當有人氣的攝影場所哦！
                </span>
            </div>
            <div class="first_cantain">
                <div class="first_border" style="height: 300px;">
                    <h4 class="content-little-title word">大阪櫻花及夜櫻勝地——「大阪城西之丸庭園」</h4>
                    <p class="word other content">
                        大阪城中的「西之丸庭園」據說最初是豐臣秀吉的正室所居住的地方，現在整修為面積約64,000平方公尺的庭園，於1965年開園。庭園中有各式各樣的花草樹木，可以眺望天守閣以及護城河的美景。園內約有300棵染井吉野櫻，每到春天綻放時都吸引無數觀光客前來一睹櫻花的風采。尤其在夜間點燈時，可以同時欣賞夜櫻和大阪城點燈的浪漫美景，是大阪裡相當有人氣的知名賞櫻景點之一。
                    </p>
                </div>
                <div>
                    <img src="../img/osaka_castle6.jpeg" class="other_pic">
                </div>
            </div>
            <div style="display: flex; flex-wrap: wrap; flex: 2;">
                <div>
                    <h1 class="content-title">地圖</h1>
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3280.7034629574655!2d135.5251899445082!3d34.68743291374509!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6000e0d2ba19f027%3A0x430e3c2bcd818ac1!2z5aSn6Ziq5Z-OIOWkqeWuiOmWow!5e0!3m2!1szh-TW!2stw!4v1682917247084!5m2!1szh-TW!2stw"
                        width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
                <div id="people_border">
                    <img src="../img/people_word.png" id="people_word">
                    <img src="../img/people.png" id="people">
                </div>
            </div>
        </div>



    </div>

    <div class="scroll-to-top">
        <a href="#">
            <img src="../img/top.png" class="top"></a>

        <a href="./osaka.html">
            <img src="../img/house.svg" class="top">
        </a>
    </div>

    <!-- 圖片輪播的js -->
    <script>
        let slideIndex = 0;
        showSlides();

        function showSlides() {
            let i;
            let slides = document.getElementsByClassName("mySlides");
            let dots = document.getElementsByClassName("dot");
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
            setTimeout(showSlides, 3000); // Change image every 2 seconds
        }


        // 監聽使用者滾動頁面
        window.addEventListener('scroll', function () {
            var scrollPosition = window.scrollY;

            // 判斷是否顯示回到頂部的按鈕
            if (scrollPosition > 500) {
                document.querySelector('.scroll-to-top').classList.add('show');
            } else {
                document.querySelector('.scroll-to-top').classList.remove('show');
            }
        });

        // 櫻花
        let stop, staticx;
        const img = new Image();
        img.src = "../img/sakura.png";

        function Sakura(x, y, s, r, fn) {
            this.x = x;
            this.y = y;
            this.s = s;
            this.r = r;
            this.fn = fn;
        }

        Sakura.prototype.draw = function (cxt) {
            cxt.save();
            const xc = 40 * this.s / 4;
            cxt.translate(this.x, this.y);
            cxt.rotate(this.r);
            cxt.drawImage(img, 0, 0, 40 * this.s, 40 * this.s)
            cxt.restore();
        }

        Sakura.prototype.update = function () {
            this.x = this.fn.x(this.x, this.y);
            this.y = this.fn.y(this.y, this.y);
            this.r = this.fn.r(this.r);
            if (this.x > window.innerWidth || this.x < 0 || this.y > window.innerHeight || this.y < 0) {
                this.r = getRandom('fnr');
                if (Math.random() > 0.4) {
                    this.x = getRandom('x');
                    this.y = 0;
                    this.s = getRandom('s');
                    this.r = getRandom('r');
                } else {
                    this.x = window.innerWidth;
                    this.y = getRandom('y');
                    this.s = getRandom('s');
                    this.r = getRandom('r');
                }
            }
        }

        SakuraList = function () {
            this.list = [];
        }
        SakuraList.prototype.push = function (sakura) {
            this.list.push(sakura);
        }
        SakuraList.prototype.update = function () {
            let i = 0, len = this.list.length;
            for (; i < len; i++) {
                this.list[i].update();
            }
        }
        SakuraList.prototype.draw = function (cxt) {
            let i = 0, len = this.list.length;
            for (; i < len; i++) {
                this.list[i].draw(cxt);
            }
        }
        SakuraList.prototype.get = function (i) {
            return this.list[i];
        }
        SakuraList.prototype.size = function () {
            return this.list.length;
        }

        function getRandom(option) {
            let ret, random;
            switch (option) {
                case 'x':
                    ret = Math.random() * window.innerWidth;
                    break;
                case 'y':
                    ret = Math.random() * window.innerHeight;
                    break;
                case 's':
                    ret = Math.random();
                    break;
                case 'r':
                    ret = Math.random() * 6;
                    break;
                case 'fnx':
                    random = -0.5 + Math.random();
                    ret = function (x, y) {
                        return x + 0.5 * random - 1.7;
                    };
                    break;
                case 'fny':
                    random = 1.5 + Math.random() * 0.7
                    ret = function (x, y) {
                        return y + random;
                    };
                    break;
                case 'fnr':
                    random = Math.random() * 0.03;
                    ret = function (r) {
                        return r + random;
                    };
                    break;
            }
            return ret;
        }

        function startSakura() {

            requestAnimationFrame = window.requestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.msRequestAnimationFrame ||
                window.oRequestAnimationFrame;
            let canvas = document.createElement('canvas'),
                cxt;
            staticx = true;
            canvas.height = window.innerHeight;
            canvas.width = window.innerWidth;
            canvas.setAttribute('style', 'position: fixed;left: 0;top: 0;pointer-events: none;');
            canvas.setAttribute('id', 'canvas_sakura');
            document.getElementsByTagName('body')[0].appendChild(canvas);
            cxt = canvas.getContext('2d');
            const sakuraList = new SakuraList();
            for (let i = 0; i < 50; i++) {
                let sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny, randomFnR;
                randomX = getRandom('x');
                randomY = getRandom('y');
                randomR = getRandom('r');
                randomS = getRandom('s');
                randomFnx = getRandom('fnx');
                randomFny = getRandom('fny');
                randomFnR = getRandom('fnr');
                sakura = new Sakura(randomX, randomY, randomS, randomR, {
                    x: randomFnx,
                    y: randomFny,
                    r: randomFnR
                });
                sakura.draw(cxt);
                sakuraList.push(sakura);
            }
            stop = requestAnimationFrame(function () {
                cxt.clearRect(0, 0, canvas.width, canvas.height);
                sakuraList.update();
                sakuraList.draw(cxt);
                stop = requestAnimationFrame(arguments.callee);
            })
        }

        window.onresize = function () {
            const canvasSnow = document.getElementById('canvas_sakura');
            canvasSnow.width = window.innerWidth;
            canvasSnow.height = window.innerHeight;
        }

        img.onload = function () {
            startSakura();
        }

        function stopp() {
            if (staticx) {
                const child = document.getElementById("canvas_sakura");
                child.parentNode.removeChild(child);
                window.cancelAnimationFrame(stop);
                staticx = false;
            } else {
                startSakura();
            }
        }
    </script>

</body>
</head>

<body>

</body>

</html>